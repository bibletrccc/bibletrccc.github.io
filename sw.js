var cacheName="bible-0.0.1";self.addEventListener("install",(function(e){e.waitUntil(caches.open(cacheName).then((function(e){return e.addAll(["./"])})))})),self.addEventListener("activate",(function(e){e.waitUntil(caches.keys().then((function(e){return Promise.all(e.filter((function(e){return e.startsWith("bible-")&&e!=cacheName})).map((function(e){return caches.delete(e)})))}))),e.waitUntil(caches.open(cacheName).then((function(e){e.delete("/",{ignoreSearch:!0})})))})),self.addEventListener("fetch",(function(e){e.request.url.match(/update.html/i)||e.respondWith(caches.match(e.request,{ignoreSearch:!0}).then((t=>t||fetch(e.request).then((t=>t&&200==t.status?caches.open(cacheName).then((n=>(n.put(e.request,t.clone()),t))):t)).catch((t=>console.log(e.request,t))))))})),self.addEventListener("message",(function(e){"skipWaiting"===e.data.action&&self.skipWaiting()}));